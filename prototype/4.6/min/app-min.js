angular.module("particleApp",["lucidComponents"]).controller("ShareCtrl",function(t){t.showPopup=function(){t.showing=!0,t.dummyData={name:"",role:"Editor"}},t.addPerson=function(e){t.collaborators.push(e),t.showing=!1,t.dummyData={}},t.collaborators=[{name:"Ryan Contreras",role:"Owner",image:"https://s3.amazonaws.com/uifaces/faces/twitter/zack415/128.jpg"},{name:"Dave Smith",role:"Commenter",image:"https://s3.amazonaws.com/uifaces/faces/twitter/marcosmoralez/128.jpg"}]}).controller("RightDockCtrl",function(t,e){t.openTab="",t.showTooltipPresent=!0,t.showTooltipHistory=!0,t.setTab=function(n){n===t.openTab?t.openTab="":t.openTab=n,"comments"===t.openTab?e.showComments=!0:"present"===t.openTab?e.showSlides=!0:(e.showComments=!1,e.showSlides=!1),""===t.openTab?t.rightDock=!1:t.rightDock=!0}}).controller("PagesCtrl",function(t,e,n,o){n.pages=o,n.currentPage=o[0],t.sortConfig={group:"foobar",animation:150},t.addPage=function(){var t=n.pages.length,o=(new Date).getTime(),a={name:"New Page "+(+t+1),id:o};n.pages.splice(t,0,a),e(function(){n.currentPage=a},10)},t.duplicatePage=function(t,o){var a=JSON.parse(JSON.stringify(t)),i=+o+1,s=(new Date).getTime();a.id=s,a.name=t.name+" Copy",n.pages.splice(i,0,a),e(function(){n.currentPage=a},10)},n.masterPageCount=function(){var t=[];return angular.forEach(n.pages,function(e){e.master&&t.push(e)}),t},t.deletePage=function(t,o){n.pages.splice(o,1),e(function(){n.pages[o]?n.currentPage=n.pages[o]:n.currentPage=n.pages[o-1]},10)},t.applyMaster=function(t){t.masterapplied=!0,console.log("page",t),e(function(){t.masterapplied=!1},2e3)},t.applyMasterAll=function(){console.log("master applied to all"),angular.forEach(n.pages,function(e){e.master||t.applyMaster(e)})}}).controller("linePathCtrl",function(t){var e=new SVGMorpheus("#lucid-path-style");t.changePath=function(n){"straight"===n&&e.to("lucid-straight-path",{duration:400,easing:"quad-out",rotation:"none"}),"curved"===n&&e.to("lucid-curve-path",{duration:400,easing:"quad-out",rotation:"none"}),"angle"===n&&e.to("lucid-angle-path",{duration:400,easing:"quad-out",rotation:"none"}),t.showpopover=!1},t.pathstyles=[{name:"curved",icon:"https://s3-us-west-2.amazonaws.com/s.cdpn.io/t-157/icon-line-curved-bluesteel.svg"},{name:"angle",icon:"https://s3-us-west-2.amazonaws.com/s.cdpn.io/t-157/icon-line-angle-bluesteel.svg"},{name:"straight",icon:"https://s3-us-west-2.amazonaws.com/s.cdpn.io/t-157/icon-line-straight-bluesteel.svg"}],t.pathstyle=t.pathstyles[0]}).controller("textAlignmentCtrl",function(t){var e=new SVGMorpheus("#lucid-text-align");t.selected||(t.selected={},t.selected.text={verticalalignment:"middle",horizontalalignment:"center"}),t.changeAlignment=function(n,o){t.selected.text.verticalalignment=n,t.selected.text.horizontalalignment=o,"top"===n&&"left"===o&&e.to("lucid-text-top-left",{duration:400,easing:"quad-out",rotation:"none"}),"top"===n&&"center"===o&&e.to("lucid-text-top-center",{duration:400,easing:"quad-out",rotation:"none"}),"top"===n&&"right"===o&&e.to("lucid-text-top-right",{duration:400,easing:"quad-out",rotation:"none"}),"middle"===n&&"left"===o&&e.to("lucid-text-middle-left",{duration:400,easing:"quad-out",rotation:"none"}),"middle"===n&&"center"===o&&e.to("lucid-text-middle-center",{duration:400,easing:"quad-out",rotation:"none"}),"middle"===n&&"right"===o&&e.to("lucid-text-middle-right",{duration:400,easing:"quad-out",rotation:"none"}),"bottom"===n&&"left"===o&&e.to("lucid-text-bottom-left",{duration:400,easing:"quad-out",rotation:"none"}),"bottom"===n&&"center"===o&&e.to("lucid-text-bottom-center",{duration:400,easing:"quad-out",rotation:"none"}),"bottom"===n&&"right"===o&&e.to("lucid-text-bottom-right",{duration:400,easing:"quad-out",rotation:"none"}),t.showpopup=!1},t.alignment=[{verticalalignment:"top",horizontalalignment:"left",name:"top-left",icon:"https://s3-us-west-2.amazonaws.com/s.cdpn.io/t-157/icon-alignment_top-left-bluesteel.svg"},{verticalalignment:"top",horizontalalignment:"center",name:"top-center",icon:"https://s3-us-west-2.amazonaws.com/s.cdpn.io/t-157/icon-alignment_top-center-bluesteel.svg"},{verticalalignment:"top",horizontalalignment:"right",name:"top-right",icon:"https://s3-us-west-2.amazonaws.com/s.cdpn.io/t-157/icon-alignment_top-right-bluesteel.svg"},{verticalalignment:"middle",horizontalalignment:"left",name:"center-left",icon:"https://s3-us-west-2.amazonaws.com/s.cdpn.io/t-157/icon-alignment_center-left-bluesteel.svg"},{verticalalignment:"middle",horizontalalignment:"center",name:"center-center",icon:"https://s3-us-west-2.amazonaws.com/s.cdpn.io/t-157/icon-alignment_center-center-bluesteel.svg"},{verticalalignment:"middle",horizontalalignment:"right",name:"center-right",icon:"https://s3-us-west-2.amazonaws.com/s.cdpn.io/t-157/icon-alignment_center-right-bluesteel.svg"},{verticalalignment:"bottom",horizontalalignment:"left",name:"bottom-left",icon:"https://s3-us-west-2.amazonaws.com/s.cdpn.io/t-157/icon-alignment_bottom-left-bluesteel.svg"},{verticalalignment:"bottom",horizontalalignment:"center",name:"bottom-center",icon:"https://s3-us-west-2.amazonaws.com/s.cdpn.io/t-157/icon-alignment_bottom-center-bluesteel.svg"},{verticalalignment:"bottom",horizontalalignment:"right",name:"bottom-right",icon:"https://s3-us-west-2.amazonaws.com/s.cdpn.io/t-157/icon-alignment_bottom-right-bluesteel.svg"}]}).controller("shapesManagerCtrl",function(t,e,n,o){t.shapegroups=o.all(),t.clickShapes=function(){t.searchshapes?t.searchshapes=!1:e.manageshapes=!e.manageshapes},t.newCustomGroup=function(){var t={groupname:"New Group",custom:!0,edit:!0,shapes:[{fake:"fake"}]};o.addGroup(t)},t.editName=function(t,e){t.edit=!0;var n="name-input-"+e;$timeout(function(){document.getElementById(n).select()},10),t.edit=!0},t.pinnedCount=5,t.pinGroup=function(e){var n=o.get(e.id);n.pinned=!0,t.pinnedCount+=1,e.pinnedOrder=t.pinnedCount,t.showPinMessage(e),console.log("pin")},t.unPinGroup=function(t){var e=o.get(t.id);e.pinned=!1,console.log("unpin")},t.togglePin=function(e){var n=o.get(e.id);e.pinned?t.unPinGroup(e):t.pinGroup(e)},t.showPinMessage=function(e){var n=document.getElementById("left-panel-shapes").offsetHeight<document.getElementById("left-panel-shapes-scroll").offsetHeight;n&&(t.overflowMessage=!0,t.overflowMessageTitle=e.groupname,$timeout(function(){t.overflowMessage=!1},2e3))},t.openWindow=function(t){window.open(t,"_blank","toolbar=yes, scrollbars=yes, resizable=yes, top=500, left=500, width=400, height=400")},t.dragoverCallback=function(e,n,o,a){return t.logListEvent("dragged over",e,n,o,a),n},t.dropCallback=function(e,n,o,a,i,s){return t.logListEvent("dropped at",e,n,a,i),a&&"containerType"===s&&!angular.isArray(o)?!1:o},t.logEvent=function(t,e){console.log(t,"(triggered by the following",e.type,"event)"),console.log(e)},t.logListEvent=function(e,n,o,a,i){var s=a?"External ":"";s+=i+" element is "+e+" position "+o,t.logEvent(s,n)}});